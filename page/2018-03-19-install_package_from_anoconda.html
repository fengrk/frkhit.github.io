<!doctype html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="utf-8">
    <title>virtualenv中安装anaconda模块</title>
    <link rel="stylesheet" href="/static/css/github.css">
    <link rel="stylesheet" href="/static/css/style.css">
    

</head>
<body class="box">

<nav class="nav-menu">
    <ul>
        <li><a href="/">首页</a></li>
        <li><a href="https://github.com/frkhit/frkhit.github.io">源码</a></li>
    </ul>
</nav>

<div class="container">

    <div class="content" role="main">
        
    <h1>
<a id="user-content-virtualenv中安装anaconda模块" class="anchor" href="#virtualenv%E4%B8%AD%E5%AE%89%E8%A3%85anaconda%E6%A8%A1%E5%9D%97" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>virtualenv中安装anaconda模块</h1>
<p>faiss是Facebook AI实验室开源的一个高性能的相似性搜索库,该项目提供了python接口.faiss提供了源码编译和anaconda的两种安装方法. 但要在现有的virtualenv中安装faiss,却不容易.</p>
<p>anaconda安装faiss的方法:</p>
<pre><code># CPU version only
conda install faiss-cpu -c pytorch

# GPU version requires CUDA to be installed, otherwise it falls back to CPU version
conda install faiss-gpu -c pytorch

</code></pre>
<h2>
<a id="user-content-解决方案" class="anchor" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>解决方案</h2>
<p>下载anaconda中编译包,解压后,复制到虚拟环境中.</p>
<p>代码:</p>
<pre><code>wget  https://anaconda.org/pytorch/faiss-cpu/1.2.1/download/linux-64/faiss-cpu-1.2.1-py36_cuda9.0.176_1.tar.bz2
tar xvjf faiss-cpu-1.2.1-py36_cuda9.0.176_1.tar.bz2
cp -r lib/python3.6/site-packages/* env/lib/python3.6/site-packages/
rm lib/ -R &amp;&amp; rm faiss-cpu-1.2.1-py36_cuda9.0.176_1.tar.bz2
pip install mkl

</code></pre>
<h2>
<a id="user-content-参考" class="anchor" href="#%E5%8F%82%E8%80%83" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>参考</h2>
<ul>
<li><a href="https://stackoverflow.com/questions/47967252/installing-faiss-on-google-colaboratory/49359649#49359649" rel="nofollow">Installing faiss on Google Colaboratory</a></li>
</ul>


    </div>

</div><!-- end container -->
<script src="/static/js/script.js"></script>
</body>
</html>